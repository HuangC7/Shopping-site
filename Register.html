<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="css/common.css" rel="stylesheet" type="text/css" />
    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <title>用户注册201858304315黄悦轩201858304317蒲文杰</title>
    <style>
        .msg {
            color: red;
        }

        .area select {
            width: 66px;
        }
    </style>
</head>

<body>
    <div class="log_bg">
        <div class="top">
            <div class="logo">
                <div class="logo_link"><a href="Index.html"><img src="images/logo.png"></a></div>
                <div class="phone">免费咨询热线：<b>400-567-4556</b></div>
            </div>
        </div>
        <div class="regist">
            <div class="log_img"><img src="images/imgbg_03.png" width="611" height="425"></div>
            <div class="reg_c" id="registered">
                <div class="hd">
                    <ul>
                        <li>普通注册</li>
                    </ul>
                </div>
                <div class="bd">
                    <ul>
                        <form>
                            <table border="0" style="width:420px; font-size:14px; margin-top:20px;" cellspacing="0"
                                cellpadding="0">
                                <tbody>
                                    <tr height="50" valign="top">
                                        <td width="95">&nbsp;</td>
                                        <td>
                                            <span class="fl" style="font-size:24px;">注册</span>
                                            <span class="fr">已有商城账号，<a href="Login.html"
                                                    style="color:#ff4e00;">我要登录</a></span>
                                        </td>
                                    </tr>
                                    <tr height="50">
                                        <td align="right">
                                            <font color="#ff4e00">*</font>&nbsp;用户名 &nbsp;
                                        </td>
                                        <td><input type="text" value="" class="l_user"> <span class="msg"></span></td>
                                    </tr>
                                    <tr height="50">
                                        <td align="right">
                                            <font color="#ff4e00">*</font>&nbsp;密码 &nbsp;
                                        </td>
                                        <td><input type="password" value="" class="l_pwd Pwd"><span class="msg"></span></td>
                                    </tr>
                                    <tr height="50">
                                        <td align="right">
                                            <font color="#ff4e00">*</font>&nbsp;确认密码 &nbsp;
                                        </td>
                                        <td><input type="password" value="" class="l_pwd rPwd"><span class="msg"></span>
                                        </td>
                                    </tr>
                                    <tr height="50">
                                        <td align="right">
                                            <font color="#ff4e00">*</font>&nbsp;邮箱 &nbsp;
                                        </td>
                                        <td><input type="text" value="" class="l_email"><span class="msg"></span></td>
                                    </tr>
                                    <tr height="50">
                                        <td align="right">
                                            <font color="#ff4e00">*</font>&nbsp;手机 &nbsp;
                                        </td>
                                        <td><input type="text" value="" class="l_tel"><span class="msg"></span></td>
                                    </tr>

                                    <tr height="60">
                                        <td>&nbsp;</td>
                                        <td><input type="button" value="立即注册" class="log_btn"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </form>
                    </ul>
                </div>
            </div>
        </div>
        
        <script src="js/citydata.js"></script>
        <script src="js/jquery-3.3.1.js"></script>
        <script>
            $(function () {
                var result = 0;
                // 用户名
                let userName = $(".l_user")
                let pwd = $(".Pwd") // 密码
                let rPwd = $(".rPwd") // 确认密码
                let phone = $(".l_tel") // 手机号
                let email = $(".l_email") // 邮箱
               

                // 邮箱
                email.blur(function () {
                    var myreg = /^([\.a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/;
                    var result = myreg.test(email.val());
                    if (!result) {
                        email.next().text('请输入正确的邮箱！！！')
                    } else {
                        email.next().text('')
                        result += 1;
                    }
                })

                // 验证手机号
                phone.blur(function () {
                    var pattern = /^1[34578]\d{9}$/;
                    var result = pattern.test(phone.val());
                    if (!result) {
                        phone.next().text('请输入正确的手机号码！！！')
                    } else {
                        phone.next().text('')
                        result += 1;
                    }
                })

                // 确认密码
                rPwd.blur(function () {
                    if (pwd.val() == rPwd.val()) {
                        result += 1;
                        rPwd.next().text('')
                    } else {
                        rPwd.next().text('两次密码不一致')
                    }
                })

                // 判断密码
                pwd.blur(function () {
                    if (pwd.val() == "") {
                        pwd.next().text('密码不能为空')
                    } else if (pwd.val().length < 8 || pwd.val().length > 16) {
                        pwd.next().text('密码的长度在8 到 16 位')
                    } else {
                        pwd.next().text('')
                        result += 1;
                    }
                })

                // 判断用户名
                userName.blur(function () {
                    if (userName.val() == "") {
                        userName.next().text('用户名不能为空')
                    } else if (userName.val().length < 8 || userName.val().length > 16) {
                        userName.next().text('用户名的长度在8 到 16 位')
                    } else {
                        userName.next().text('')
                        result += 1;
                    }
                })

                // 判断登录
                $(".log_btn").click(function () {

                    if (userName.val() == "") {
                        userName.next().text('用户名不能为空')
                        return
                    } else if (userName.val().length < 8 || userName.val().length > 16) {
                        userName.next().text('用户名的长度在8 到 16 位')
                        return
                    } else {
                        userName.next().text('')
                        result += 1;
                    }
                    if (pwd.val() == "") {
                        pwd.next().text('密码不能为空')
                        return
                    } else if (pwd.val().length < 8 || pwd.val().length > 16) {
                        pwd.next().text('密码的长度在8 到 16 位')
                        return
                    } else {
                        pwd.next().text('')
                        result += 1;
                    }
                    if (pwd.val() == rPwd.val()) {
                        result += 1;
                        rPwd.next().text('')
                    } else {
                        rPwd.next().text('两次密码不一致')
                        return
                    }
                    var pattern = /^1[34578]\d{9}$/;
                    var result = pattern.test(phone.val());
                    if (!result) {
                        phone.next().text('请输入正确的手机号码！！！')
                        return
                    } else {
                        phone.next().text('')
                        result += 1;
                    }

                    let cod = {
                        userName: userName.val(),
                        pwd: pwd.val()
                    }
                    let ary = []
                    let sss = sessionStorage.getItem("login")
                    if (sss == null) {
                        ary.push(cod)
                        sessionStorage.setItem('login', JSON.stringify(ary))
                    } else {
                        let aries = JSON.parse(sss)

                        aries.push(cod)
                        sessionStorage.setItem('login', JSON.stringify(aries))
                    }
                    window.location = "Login.html"
                })
            })
        </script>




        <div class="btmbg">
            <div class="btm">
                备案/许可证编号：蜀ICP备12009302号-1-www.dingguagua.com Copyright © 2015-2020 宏颜知己商城网 All Rights Reserved. 复制必究 ,
                Technical Support: Dgg Grou<br>
                <p>作者信息: 201858304315 黄悦轩 QQ:924615933 座右铭：明天会更好  || 201858304317 蒲文杰 QQ：1034307789 座右铭：后天会更好</p>
            </div>
        </div>
    </div>
</body>

</html>